<script src="/penpal.js"></script>
<script src="/pages/_fixtureHelpers.js"></script>
<script>
  const channelBParentPromise = PenpalFixture.connect({
    channel: 'B',
    methods: {
      getChannel() {
        return 'B';
      },
      getChannelFromParent() {
        return channelBParentPromise.then((parent) => parent.getChannel());
      },
    },
    allowedOrigins: ['*'],
    logLabel: 'Child Connection B',
  }).promise;

  const channelAParentPromise = PenpalFixture.connect({
    channel: 'A',
    methods: {
      getChannel() {
        return 'A';
      },
      getChannelFromParent() {
        return channelAParentPromise.then((parent) => parent.getChannel());
      },
    },
    allowedOrigins: ['*'],
    logLabel: 'Child Connection A',
  }).promise;
</script>
